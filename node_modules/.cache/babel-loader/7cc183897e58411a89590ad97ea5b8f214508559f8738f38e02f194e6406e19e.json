{"ast":null,"code":"import{useState,useEffect,Children,cloneElement}from\"react\";import\"./Carousel.css\";import shape from\"../../assets/global/shape-1.png\";import homeIcon from\"../../assets/global/HomeIcon.png\";import stick from\"../../assets/global/Stick.png\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PAGE_WIDTH=1024;const MAX_OVERSCROLL=30;export const Carousel=_ref=>{let{children}=_ref;const[pages,setPages]=useState([]);const[offset,setOffset]=useState(0);const[isDragging,setIsDragging]=useState(false);const[startX,setStartX]=useState(0);useEffect(()=>{setPages(Children.map(children,child=>{return/*#__PURE__*/cloneElement(child,{});}));},[children]);const handleStart=clientX=>{setIsDragging(true);setStartX(clientX);const slider=document.querySelector(\".all-pages-container\");if(slider){slider.style.transition=\"none\";}};const handleMove=clientX=>{if(!isDragging)return;const deltaX=clientX-startX;const totalPages=pages.length;const maxOffset=-(totalPages-1)*PAGE_WIDTH;let newOffset=offset+deltaX;if(newOffset>0){newOffset=Math.min(newOffset,MAX_OVERSCROLL);}if(newOffset<maxOffset){newOffset=Math.max(newOffset,maxOffset-MAX_OVERSCROLL);}setOffset(newOffset);setStartX(clientX);};const handleEnd=()=>{if(!isDragging)return;setIsDragging(false);const totalPages=pages.length;const maxOffset=-(totalPages-1)*PAGE_WIDTH;let newOffset=offset;if(offset>0){newOffset=0;}else if(offset<maxOffset){newOffset=maxOffset;}else{const pageIndex=Math.round(-offset/PAGE_WIDTH);newOffset=-pageIndex*PAGE_WIDTH;}const slider=document.querySelector(\".all-pages-container\");if(slider){slider.style.transition=\"transform 0.3s ease-in-out\";}setOffset(newOffset);};const handleHomeIconClick=()=>{setOffset(0);const slider=document.querySelector(\".all-pages-container\");if(slider){slider.style.transition=\"transform 0.3s ease-in-out\";}};return/*#__PURE__*/_jsx(\"div\",{className:\"main-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"window\",children:[/*#__PURE__*/_jsx(\"img\",{src:homeIcon,className:\"homeIcon\",onClick:handleHomeIconClick}),/*#__PURE__*/_jsx(\"img\",{src:stick,className:\"stick\"}),/*#__PURE__*/_jsx(\"p\",{className:\"projectTitle\",children:\"PROJECT\"}),/*#__PURE__*/_jsx(\"div\",{className:\"all-pages-container\",style:{transform:`translateX(${offset}px)`},onTouchStart:e=>handleStart(e.touches[0].clientX),onTouchMove:e=>handleMove(e.touches[0].clientX),onTouchEnd:handleEnd,onMouseDown:e=>handleStart(e.clientX),onMouseMove:e=>handleMove(e.clientX),onMouseUp:handleEnd,onMouseLeave:handleEnd,children:pages}),/*#__PURE__*/_jsx(\"img\",{src:shape,className:\"Shape_1\"})]})});};","map":{"version":3,"names":["useState","useEffect","Children","cloneElement","shape","homeIcon","stick","jsx","_jsx","jsxs","_jsxs","PAGE_WIDTH","MAX_OVERSCROLL","Carousel","_ref","children","pages","setPages","offset","setOffset","isDragging","setIsDragging","startX","setStartX","map","child","handleStart","clientX","slider","document","querySelector","style","transition","handleMove","deltaX","totalPages","length","maxOffset","newOffset","Math","min","max","handleEnd","pageIndex","round","handleHomeIconClick","className","src","onClick","transform","onTouchStart","e","touches","onTouchMove","onTouchEnd","onMouseDown","onMouseMove","onMouseUp","onMouseLeave"],"sources":["D:/VS Projects/OnPoint/onpoint-test/src/components/carousel/Carousel.js"],"sourcesContent":["import { useState, useEffect, Children, cloneElement } from \"react\";\r\nimport \"./Carousel.css\";\r\nimport shape from \"../../assets/global/shape-1.png\";\r\nimport homeIcon from \"../../assets/global/HomeIcon.png\";\r\nimport stick from \"../../assets/global/Stick.png\";\r\n\r\nconst PAGE_WIDTH = 1024;\r\nconst MAX_OVERSCROLL = 30;\r\n\r\nexport const Carousel = ({ children }) => {\r\n  const [pages, setPages] = useState([]);\r\n  const [offset, setOffset] = useState(0);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [startX, setStartX] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setPages(\r\n      Children.map(children, (child) => {\r\n        return cloneElement(child, {});\r\n      })\r\n    );\r\n  }, [children]);\r\n\r\n  const handleStart = (clientX) => {\r\n    setIsDragging(true);\r\n    setStartX(clientX);\r\n\r\n    const slider = document.querySelector(\".all-pages-container\");\r\n    if (slider) {\r\n      slider.style.transition = \"none\";\r\n    }\r\n  };\r\n\r\n  const handleMove = (clientX) => {\r\n    if (!isDragging) return;\r\n\r\n    const deltaX = clientX - startX;\r\n    const totalPages = pages.length;\r\n    const maxOffset = -(totalPages - 1) * PAGE_WIDTH;\r\n\r\n    let newOffset = offset + deltaX;\r\n\r\n    if (newOffset > 0) {\r\n      newOffset = Math.min(newOffset, MAX_OVERSCROLL);\r\n    }\r\n\r\n    if (newOffset < maxOffset) {\r\n      newOffset = Math.max(newOffset, maxOffset - MAX_OVERSCROLL);\r\n    }\r\n\r\n    setOffset(newOffset);\r\n    setStartX(clientX);\r\n  };\r\n\r\n  const handleEnd = () => {\r\n    if (!isDragging) return;\r\n    setIsDragging(false);\r\n\r\n    const totalPages = pages.length;\r\n    const maxOffset = -(totalPages - 1) * PAGE_WIDTH;\r\n\r\n    let newOffset = offset;\r\n\r\n    if (offset > 0) {\r\n      newOffset = 0;\r\n    } else if (offset < maxOffset) {\r\n      newOffset = maxOffset;\r\n    } else {\r\n      const pageIndex = Math.round(-offset / PAGE_WIDTH);\r\n      newOffset = -pageIndex * PAGE_WIDTH;\r\n    }\r\n\r\n    const slider = document.querySelector(\".all-pages-container\");\r\n    if (slider) {\r\n      slider.style.transition = \"transform 0.3s ease-in-out\";\r\n    }\r\n\r\n    setOffset(newOffset);\r\n  };\r\n\r\n  const handleHomeIconClick = () => {\r\n    setOffset(0);\r\n\r\n    const slider = document.querySelector(\".all-pages-container\");\r\n    if (slider) {\r\n      slider.style.transition = \"transform 0.3s ease-in-out\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-container\">\r\n      <div className=\"window\">\r\n        <img\r\n          src={homeIcon}\r\n          className=\"homeIcon\"\r\n          onClick={handleHomeIconClick}\r\n        ></img>\r\n        <img src={stick} className=\"stick\"></img>\r\n        <p className=\"projectTitle\">PROJECT</p>\r\n        <div\r\n          className=\"all-pages-container\"\r\n          style={{ transform: `translateX(${offset}px)` }}\r\n          onTouchStart={(e) => handleStart(e.touches[0].clientX)}\r\n          onTouchMove={(e) => handleMove(e.touches[0].clientX)}\r\n          onTouchEnd={handleEnd}\r\n          onMouseDown={(e) => handleStart(e.clientX)}\r\n          onMouseMove={(e) => handleMove(e.clientX)}\r\n          onMouseUp={handleEnd}\r\n          onMouseLeave={handleEnd}\r\n        >\r\n          {pages}\r\n        </div>\r\n\r\n        <img src={shape} className=\"Shape_1\"></img>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}